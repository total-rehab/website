(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{9765:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/practitioner/patients/create",function(){return r(8652)}])},9116:function(e,t,r){"use strict";r.d(t,{b:function(){return i}});var l=r(5893),a=r(3637),s=r(4184),n=r.n(s);let i=e=>{let{type:t,className:r,children:s}=e;return(0,l.jsxs)("div",{className:n()("p-4 mb-4 text-sm rounded-lg",{error:"text-red-800 bg-red-50",success:"text-green-800 bg-green-50",warning:"text-yellow-800 bg-yellow-50",info:"text-blue-800 bg-blue-50"}[t],r),role:"alert",children:[(0,l.jsx)("p",{className:"font-bold mb-2",children:(0,a.G)(t)}),(0,l.jsx)("p",{children:s})]})}},5740:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var l=r(5893),a=r(4184),s=r.n(a);let n=e=>{let{label:t,name:r,placeholder:a,required:n,disabled:i,type:c="text",onChange:o,value:d}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:r,className:"block mb-1 font-medim text-gray-900 dark:text-white",children:t}),(0,l.jsx)("input",{type:c,id:r,name:r,disabled:i,onChange:o,value:d,className:s()("border border-gray-400 text-gray-900 text-sm rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",i?"bg-gray-150 cursor-not-allowed":"bg-white"),placeholder:a,required:n})]})}},3774:function(e,t,r){"use strict";r.d(t,{l:function(){return a}});var l=r(5893);let a=e=>{let{label:t,name:r,placeholder:a,required:s,options:n,value:i,onChange:c}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:r,className:"block mb-1 font-medim text-gray-900 dark:text-white",children:t}),(0,l.jsx)("select",{id:r,name:r,value:i,onChange:c,className:"bg-white border border-gray-400 text-gray-900 text-sm rounded focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:a,required:s,children:n.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]})}},8652:function(e,t,r){"use strict";r.r(t);var l=r(5893),a=r(7294),s=r(7837),n=r(9501),i=r(1163),c=r(7311),o=r(1993),d=r(8344),u=r(5740),m=r(7543),b=r(3774),h=r(9116);let g=()=>{let e=(0,d.H)(),t=(0,a.useRef)(null),[r,g]=(0,a.useState)(""),[p,x]=(0,a.useState)(!1),f=(0,i.useRouter)(),{data:j}=(0,s.a)(["access-codes"],()=>e.getAccessCodes()),v=async t=>{var r,l;t.preventDefault(),x(!0);let a=new FormData(t.currentTarget),s=null===(r=a.get("email"))||void 0===r?void 0:r.toString(),i=null===(l=a.get("accessCodeId"))||void 0===l?void 0:l.toString();if(!s||!i){x(!1),g("Please complete all form fields");return}let c={email:s,accessCodeId:Number(i)},o=null;try{o=await e.createPatient({data:c})}catch(d){(0,n.isOpenApiClientError)(d)&&g(d.data&&"message"in d.data?d.data.message:d.message),g(String(d)),x(!1);return}f.push("/practitioner/patients/".concat(o.guid))},w=()=>{g("")};return(0,l.jsx)(c.T,{hideHeader:!0,title:"Sign up",description:"Sign up to the Total Rehab app",children:(0,l.jsxs)(o.c,{children:[(0,l.jsx)("div",{className:"md:flex-[60%]",children:(0,l.jsx)("p",{className:"text-xl mb-8",children:"Fill in the patient's email address below to grant them full access to the Total Rehab app, using one of your access codes."})}),r&&(0,l.jsx)(h.b,{type:"error",className:"mb-8",children:r}),r&&(0,l.jsx)(h.b,{type:"error",className:"mb-8",children:r}),(0,l.jsxs)("form",{ref:t,onSubmit:v,onChange:w,className:"space-y-7",children:[(0,l.jsx)(u.I,{required:!0,type:"email",label:"Email",name:"email"}),(null==j?void 0:j.items)&&(0,l.jsx)(b.l,{required:!0,label:"Access code",name:"accessCodeId",options:j.items.map(e=>({label:e.code,value:e.id}))}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(m.z,{isSubmitButton:!0,isLoading:p,children:"Submit"})})]})]})})};t.default=g}},function(e){e.O(0,[989,963,895,362,986,774,888,179],function(){return e(e.s=9765)}),_N_E=e.O()}]);