(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{5827:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/practitioner/access-codes/purchase",function(){return r(4282)}])},7543:function(e,t,r){"use strict";r.d(t,{z:function(){return a}});var n=r(5893),s=r(4184),i=r.n(s),c=r(8506);let a=e=>{let{children:t,onClick:r,className:s,isLoading:a}=e;return(0,n.jsx)("button",{type:"button",onClick:r,className:i()("text-white bg-secondary-regular hover:bg-secondary-dark font-medium rounded-lg px-5 py-2.5 select-none",s),children:(0,n.jsxs)("div",{className:"flex items-center",children:[t,a&&(0,n.jsx)(c.T,{size:16,className:"ml-3"})]})})}},4282:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return m},default:function(){return p}});var n=r(5893),s=r(7311),i=r(6483),c=r(7294),a=r(9501),l=r(6446);let o=()=>{let{session:e,refreshSession:t,endSession:r}=(0,c.useContext)(l.B),n="https://api.total-rehab.co.uk";if(!n)throw Error("Total Rehab API base URL not set");return(0,a.createOpenApiClient)({baseURL:n,getAccessToken:()=>null==e?void 0:e.access_token,refreshAccessToken:async()=>{let e=await t(),n=null==e?void 0:e.access_token;if(!n){await r();return}return n},onError:e=>{console.error(e),401===e.statusCode&&r()}})};var d=r(7543);let u=e=>{let{product:t}=e,[r,s]=(0,c.useState)(),[a,l]=(0,c.useState)(),u=o(),[x,h]=(0,c.useState)(!1),m=(0,c.useCallback)(e=>{var r;return new Intl.NumberFormat(null!==(r=(0,i.ZP)())&&void 0!==r?r:"en-UK",{style:"currency",currency:t.price.currency,maximumFractionDigits:0,minimumFractionDigits:0}).format(e/100)},[t.price]);(0,c.useEffect)(()=>{s(m(t.price.amount)),l(m(t.price.amount/t.quantity))},[m,t]);let p=async()=>{h(!0);let{checkoutSessionUrl:e}=await u.checkout({params:{id:t.id},query:{redirectUrl:new URL("/practitioner",window.location.origin).href}});window.location.href=e};return(0,n.jsx)("div",{className:"border border-gray-500 overflow-hidden shdow bg-white text-on-surface-base rounded text-center",children:(0,n.jsxs)("div",{className:"px-7 py-5 flex flex-col h-full",children:[(0,n.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl lg:text-3xl tracking-wide lg:tracking-wide font-medium",children:t.name}),(0,n.jsx)("p",{className:"mt-2 text-lg lg:text-xl",children:t.description})]}),(0,n.jsxs)("div",{className:"flex flex-col flex-1 justify-end",children:[(0,n.jsxs)("p",{className:"text-3xl mt-8",children:[a," / unit"]}),(0,n.jsxs)("p",{className:"text-3 mt-2",children:["Billed as a one-time ",r," payment"]})]})]}),(0,n.jsx)("div",{className:"mt-8",children:(0,n.jsx)(d.z,{isLoading:x,onClick:p,children:"Buy now"})})]})})};var x=r(1993);let h=e=>{let{products:t}=e;return(0,n.jsx)(s.T,{hideHeader:!0,title:"Sign up",description:"Sign up to the Total Rehab app",children:(0,n.jsxs)(x.c,{children:[(0,n.jsx)("p",{className:"text-xl mb-8",children:"Purchase access codes to provide your patients with full access to all programs within the Total Rehab app."}),(0,n.jsx)("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-3",children:t.map(e=>(0,n.jsx)(u,{product:e},e.id))})]})})};var m=!0,p=h},4654:function(){}},function(e){e.O(0,[658,376,989,774,888,179],function(){return e(e.s=5827)}),_N_E=e.O()}]);